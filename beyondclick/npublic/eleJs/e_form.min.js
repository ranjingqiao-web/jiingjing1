"use strict";
$define(["formUtil"], function(c) {
    return {
        init: function() {
            var t = this._params
              , o = t.id
              , r = t.cid
              , n = this.scope
              , e = t.propJson;
            $(document).on("keypress", "input", function(t) {
                return 13 != t.keyCode
            });
            var i = {};
            e.rule.forEach(function(t) {
                i[t.if.item] || (i[t.if.item] = []),
                t.state && i[t.if.item].push(t)
            }),
            function() {
                if (!isFrontEnv())
                    return;
                for (var t in i)
                    !function(t) {
                        try {
                            i[t].forEach(function(t) {
                                var n = c.txRule(t, !1, r)
                                  , i = c.txRule(t, !0, r);
                                if (n || i)
                                    throw setTimeout(function() {
                                        c.doAction(t.then, !0, o, r, e.logic)
                                    }, 200),
                                    Error()
                            })
                        } catch (t) {}
                        n.on("change input propertychange", '[name="' + t + '"],[data-name="' + t + '"]', function() {
                            try {
                                i[t].forEach(function(t) {
                                    var n = c.txRule(t, !1, r)
                                      , i = c.txRule(t, !0, r);
                                    if (n || i)
                                        throw setTimeout(function() {
                                            c.doAction(t.then, !0, o, r, e.logic)
                                        }, 200),
                                        Error()
                                })
                            } catch (t) {}
                        })
                    }(t)
            }()
        }
    }
});
